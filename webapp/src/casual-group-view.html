<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="./casual-list/casual-list.html">
<link rel="import" href="./casual-group/casual-group.html">

<dom-module id="casual-group-view">

	<template>
		<style>
			:host {
				display: block;
				padding: 16px;
			}
		</style>

		<iron-ajax id="ironAjaxCall"
			url="http://casual.laz.se/casual/casual?service=.casual.broker.state"
			handle-as="json" 
			method="GET"
			last-response="{{response}}">
		</iron-ajax>

		<casual-list listname="Groups" listdata="{{response.serviceReturn.groups}}" listattribute="groupdata">
			<casual-group></casual-group>
		</casual-list>

	</template>

	<script>
		Polymer({
			is: 'casual-group-view',
			properties: {
			route: Object
		},

		attached: function() {
			(this.$.ironAjaxCall).generateRequest();
		}

		});
	</script>

</dom-module>
